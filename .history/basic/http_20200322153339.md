## http 基础

### http与https的关系

https是套了一层ssl的http，对http报文传输进行加密，并校验其证书的真伪性

### http1.0 与 http1.1的变化

http1.1 实现了一种类似长连接的效果，即如果一方没有明确的断开当前连接，那么当前的http连接就会一直连接着不会断开，而http1.0则会请求一次就断开一次

### http 状态码

1XX： 信息提示

2XX： 成功

1. 200： 请求成功
2. 206： 下载分段的大型文件，对数据流进行节流分段

3XX：重定向

1. 301： 永久重定向
2. 302： 临时重定向
3. 303： 临时重定向只能用get
4. 304： 缓存
5. 307： 临时重定向可以使用post

4XX：请求报错

1. 400： 请求报文格式有问题
2. 401： 无权限操作
3. 403： 无法访问
4. 404： 文件不存在

5XX：服务端错误

1. 500： 服务器报错
2. 503： 服务器没有能力响应当前内容
3. 504： 请求超时

### http缓存

1. 强缓存

强缓存是浏览器发送http请求的时候，发现当前本地缓存文件中存在对应文件，并且缓存时间没有过期，那么会直接读取缓存文件就不会再重新通过服务器请求

2. 协商缓存

协商缓存是指，当触发http请求的时候，会优先带上一个参数去跟服务器请求，即服务器最后更新时间内是否有变化，如无变化则返回304重定向，如果时间变化了那么就返回200重新请求一次新的文件

### 浏览器从输入url到页面展示的全过程

1. 输入url内容
2. 判断当前输入的url是搜索的内容还是一个网站的url
3. 判断当前输入的url在本地是否存在缓存，存在的话直接调用缓存
3. 本地缓存不存在，则去查找url对应的ip地址（DNS查询）
    - 查看浏览器缓存的DNS信息是否有匹配
    - 查看本地的DNS信息是否有匹配
    - 默认查找DNS信息
4. 如果发现路由被重定向则重复上面的步骤
5. 判断返回的状态是否正常
6. 判断返回报文中的文件类型
7. 获取对应html文件，然后开始文件渲染
8. 生成dom以及cssdom树，并渲染，加载js
9. 页面呈现

### http0.9, http1.0, http1.1

#### http0.9

- 只发送请求头，没有请求体等其他信息
- 没有返回头，只有返回对应的数据
- 对数据进行ASCII编码，主要用于html，学术交流较多

#### http1.0

- 状态码，用于判断请求失败或者成功
- cache，用于文件缓存 
- 文件压缩
- 文件类型
- 文件编码格式

#### http1.1

- 多链路复用
- Cookie
- 安全机制