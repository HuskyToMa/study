## 设计模式

js设计基础，拥有设计模式能够有更好的开发体验，开发出的代码拥有更好的维护性

### 工厂模式

工厂模式，顾名思义，类似工厂的一种生产模式，量化的产生一系列相同的产品，即使用工厂模式进行设计内容的时候，开发一个统一创建接口，返回一个唯一的值

``` javascript

class Factory {
    constructor(name) {
        this.name = name;
    }

    getName(){
        return this.name;
    }

}

const a = new Factory('123');

console.log(a.getName());

```

利用es6的class语法糖能够很方便的获得一个简单工厂模式的类，但是这样的简单工厂会有一个问题，举个例子，如果我们有一批手机来自不同的厂家，那么我们在生产的时候就需要通过不同的工厂去生产不同的手机，而不是同一个工厂生产，虽然在js语法中使用同一个类也能够实现一个工厂生产多种类型的手机，但是这个与工厂模式的原意略微相差

``` javascript

class PhoneFactory {
    constructor(name) {
        this.name = name;
    }

    getName(){
        return this.name;
    }

    createdProduct() {
        switch(this.name) {
            case 'apple':
                console.log('apple Factory');
                break;
            case 'huawei':
                console.log('huawei Factory');
                break;
            case 'xiaomi':
                console.log('xiaomi Factory');
                break;
            default:
                throw new Error('厂家错误');
        }
    }

}

const a = new PhoneFactory('apple');

console.log(a.createdProduct());

```

上面的方法实现了一个工厂生产多个商品，每当生产新的产品的时候都需要判断下当前的是哪个牌子的手机，然后去生产这样其实不符合工厂模式的内容

``` javascript

class PhoneFactory {
    constructor(name) {
        this.name = name;
    }

    getName(){
        return this.name;
    }

    createdProduct() {
        throw new Error('不能使用抽象方法');
    }

}

class huaweiPhoneFactory extends PhoneFactory{
    constructor(name) {
        super(name)
    }

    createdProduct() {
        console.log('huawei Factory');
    }
}

const phone = new huaweiPhoneFactory();

phone.createdProduct();

```

通过定义一个父类工厂，实现抽象方法，在用子类去继承父类具体实现方法，来完成工厂模式，这样就能够通过固定的工厂生产固定的手机