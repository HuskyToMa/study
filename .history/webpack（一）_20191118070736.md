## webpack的脚手架搭建

### entry

1. 将公用的文件打包成一个独立的模块

    ``` javascript
        entry: {
        vendor: ['antd'],
        react: ['react', 'react-router', 'react-redux', 'redux', 'redux-saga'],
        index: path.resolve(__dirname, '../src/index.ts')
    },
    ```

2. 单入口的只需要写一个文件入口，多入口的需要添加多个文件入口以及 多个 htmlWebpackPlugin
3. resolve设置extensions的时候，需要添加'.js'而不是'js'
4. 将公用的lessLoader分离出去，dev环境不需要打包出额外的css，pro环境需要从js中读取css组成文件（mini-css-extract-plugin）
5. 将图片等文件用url-loader处理，超过4KB就用路径，小于4KB则用base64
6. 开发使用hotonly而不是用hot，避免每次修改重新刷新页面
7. 添加const文件，获取当前目录文件路径
8. pro环境添加js代码压缩（uglifyjs-webpack-plugin）
9. pro环境添加css文件压缩插件（optimize-css-assets-webpack-plugin）


### 性能优化

1. 使用happypack进行多进行/多实例打包
2. 使用dll预编译模式对公共包进行打包
3. tree Shaking 擦除无用的css代码
4. 使用cache进行构建缓存
