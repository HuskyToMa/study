<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>

<script>

function deepClone(obj) {
    if (typeof obj !== 'object') {
        return obj;
    }

    const isArray = Array.isArray(obj);
    const clone = isArray ? [] : {};

    if (isArray) {
        obj.map(item => {
            clone.push(typeof item !== 'object' ? item : deepClone(item));
        })
    } else {
        // 返回所有属性（不包含继承属性）
        Reflect.ownKeys(obj).map(key => {
            clone[key] = typeof obj[key] !== 'object' ? obj[key] : deepClone(obj[key])
        })
    }
    return clone;
}

const a = {
    e: [1,2,3,4],
    b: {
        c: 1
    }
}

const d = deepClone(a);
d.e.push(5);

d.b.c = 2;
console.log(a);
console.log(d);

</script>
</html>